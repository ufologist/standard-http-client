!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).StandardHttpClient=t()}(this,function(){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(r,n){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];return r.apply(n,e)}}var t=Object.prototype.toString;function i(e){return"[object Array]"===t.call(e)}function a(e){return null!==e&&"object"==typeof e}function s(e){return"[object Function]"===t.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var f={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===t.call(e)},isBuffer:function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===t.call(e)},isFile:function(e){return"[object File]"===t.call(e)},isBlob:function(e){return"[object Blob]"===t.call(e)},isFunction:s,isStream:function(e){return a(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function r(){var n={};function e(e,t){"object"==typeof n[t]&&"object"==typeof e?n[t]=r(n[t],e):n[t]=e}for(var t=0,o=arguments.length;t<o;t++)u(arguments[t],e);return n},deepMerge:function r(){var n={};function e(e,t){"object"==typeof n[t]&&"object"==typeof e?n[t]=r(n[t],e):n[t]="object"==typeof e?r({},e):e}for(var t=0,o=arguments.length;t<o;t++)u(arguments[t],e);return n},extend:function(r,e,n){return u(e,function(e,t){r[t]=n&&"function"==typeof e?o(e,n):e}),r},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function c(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function l(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(f.isURLSearchParams(t))n=t.toString();else{var o=[];f.forEach(t,function(e,t){null!=e&&(f.isArray(e)?t+="[]":e=[e],f.forEach(e,function(e){f.isDate(e)?e=e.toISOString():f.isObject(e)&&(e=JSON.stringify(e)),o.push(c(t)+"="+c(e))}))}),n=o.join("&")}if(n){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}function e(){this.handlers=[]}e.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},e.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},e.prototype.forEach=function(t){f.forEach(this.handlers,function(e){null!==e&&t(e)})};function p(t,r,e){return f.forEach(e,function(e){t=e(t,r)}),t}function d(e){return!(!e||!e.__CANCEL__)}function h(r,n){f.forEach(r,function(e,t){t!==n&&t.toUpperCase()===n.toUpperCase()&&(r[n]=e,delete r[t])})}function m(e,t,r,n,o){return function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,r,n,o)}var y,v,g,b=e,w=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],k=f.isStandardBrowserEnv()?(v=/(msie|trident)/i.test(navigator.userAgent),g=document.createElement("a"),y=_(window.location.href),function(e){var t=f.isString(e)?_(e):e;return t.protocol===y.protocol&&t.host===y.host}):function(){return!0};function _(e){var t=e;return v&&(g.setAttribute("href",t),t=g.href),g.setAttribute("href",t),{href:g.href,protocol:g.protocol?g.protocol.replace(/:$/,""):"",host:g.host,search:g.search?g.search.replace(/^\?/,""):"",hash:g.hash?g.hash.replace(/^#/,""):"",hostname:g.hostname,port:g.port,pathname:"/"===g.pathname.charAt(0)?g.pathname:"/"+g.pathname}}function S(c){return new Promise(function(r,n){var o=c.data,i=c.headers;f.isFormData(o)&&delete i["Content-Type"];var a=new XMLHttpRequest;if(c.auth){var e=c.auth.username||"",t=c.auth.password||"";i.Authorization="Basic "+btoa(e+":"+t)}if(a.open(c.method.toUpperCase(),l(c.url,c.params,c.paramsSerializer),!0),a.timeout=c.timeout,a.onreadystatechange=function(){if(a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in a?function(e){var t,r,n,o={};return e&&f.forEach(e.split("\n"),function(e){if(n=e.indexOf(":"),t=f.trim(e.substr(0,n)).toLowerCase(),r=f.trim(e.substr(n+1)),t){if(o[t]&&0<=w.indexOf(t))return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}}),o}(a.getAllResponseHeaders()):null,t={data:c.responseType&&"text"!==c.responseType?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:e,config:c,request:a};!function(e,t,r){var n=r.config.validateStatus;!n||n(r.status)?e(r):t(m("Request failed with status code "+r.status,r.config,null,r.request,r))}(r,n,t),a=null}},a.onabort=function(){a&&(n(m("Request aborted",c,"ECONNABORTED",a)),a=null)},a.onerror=function(){n(m("Network Error",c,null,a)),a=null},a.ontimeout=function(){n(m("timeout of "+c.timeout+"ms exceeded",c,"ECONNABORTED",a)),a=null},f.isStandardBrowserEnv()){var s=C,u=(c.withCredentials||k(c.url))&&c.xsrfCookieName?s.read(c.xsrfCookieName):void 0;u&&(i[c.xsrfHeaderName]=u)}if("setRequestHeader"in a&&f.forEach(i,function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete i[t]:a.setRequestHeader(t,e)}),c.withCredentials&&(a.withCredentials=!0),c.responseType)try{a.responseType=c.responseType}catch(e){if("json"!==c.responseType)throw e}"function"==typeof c.onDownloadProgress&&a.addEventListener("progress",c.onDownloadProgress),"function"==typeof c.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",c.onUploadProgress),c.cancelToken&&c.cancelToken.promise.then(function(e){a&&(a.abort(),n(e),a=null)}),void 0===o&&(o=null),a.send(o)})}var C=f.isStandardBrowserEnv()?{write:function(e,t,r,n,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),f.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),f.isString(n)&&a.push("path="+n),f.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},j={"Content-Type":"application/x-www-form-urlencoded"};function R(e,t){!f.isUndefined(e)&&f.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var E,x={adapter:("undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)?E=S:"undefined"!=typeof XMLHttpRequest&&(E=S),E),transformRequest:[function(e,t){return h(t,"Accept"),h(t,"Content-Type"),f.isFormData(e)||f.isArrayBuffer(e)||f.isBuffer(e)||f.isStream(e)||f.isFile(e)||f.isBlob(e)?e:f.isArrayBufferView(e)?e.buffer:f.isURLSearchParams(e)?(R(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):f.isObject(e)?(R(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return 200<=e&&e<300}};x.headers={common:{Accept:"application/json, text/plain, */*"}},f.forEach(["delete","get","head"],function(e){x.headers[e]={}}),f.forEach(["post","put","patch"],function(e){x.headers[e]=f.merge(j)});var O=x;function q(e){e.cancelToken&&e.cancelToken.throwIfRequested()}function A(t){return q(t),t.baseURL&&!function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}(t.url)&&(t.url=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(t.baseURL,t.url)),t.headers=t.headers||{},t.data=p(t.data,t.headers,t.transformRequest),t.headers=f.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),f.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||O.adapter)(t).then(function(e){return q(t),e.data=p(e.data,e.headers,t.transformResponse),e},function(e){return d(e)||(q(t),e&&e.response&&(e.response.data=p(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}function T(t,r){r=r||{};var n={};return f.forEach(["url","method","params","data"],function(e){void 0!==r[e]&&(n[e]=r[e])}),f.forEach(["headers","auth","proxy"],function(e){f.isObject(r[e])?n[e]=f.deepMerge(t[e],r[e]):void 0!==r[e]?n[e]=r[e]:f.isObject(t[e])?n[e]=f.deepMerge(t[e]):void 0!==t[e]&&(n[e]=t[e])}),f.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(e){void 0!==r[e]?n[e]=r[e]:void 0!==t[e]&&(n[e]=t[e])}),n}function N(e){this.defaults=e,this.interceptors={request:new b,response:new b}}N.prototype.request=function(e,t){"string"==typeof e?(e=t||{}).url=arguments[0]:e=e||{},(e=T(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var r=[A,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){r.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){r.push(e.fulfilled,e.rejected)});r.length;)n=n.then(r.shift(),r.shift());return n},N.prototype.getUri=function(e){return e=T(this.defaults,e),l(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},f.forEach(["delete","get","head","options"],function(r){N.prototype[r]=function(e,t){return this.request(f.merge(t||{},{method:r,url:e}))}}),f.forEach(["post","put","patch"],function(n){N.prototype[n]=function(e,t,r){return this.request(f.merge(r||{},{method:n,url:e,data:t}))}});var U=N;function P(e){this.message=e}P.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},P.prototype.__CANCEL__=!0;var B=P;function L(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new B(e),t(r.reason))})}L.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},L.source=function(){var t;return{token:new L(function(e){t=e}),cancel:t}};var I=L;function D(e){var t=new U(e),r=o(U.prototype.request,t);return f.extend(r,U.prototype,t),f.extend(r,t),r}var K=D(O);K.Axios=U,K.create=function(e){return D(T(K.defaults,e))},K.Cancel=B,K.CancelToken=I,K.isCancel=d,K.all=function(e){return Promise.all(e)},K.spread=function(t){return function(e){return t.apply(null,e)}};var F=K,H=K;F.default=H;var z=F;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var M,J=(function(e,t){function l(t){try{delete window[t]}catch(e){window[t]=void 0}}function p(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}var r;r={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null},e.exports=function(i){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=i,u=a.timeout||r.timeout,c=a.jsonpCallback||r.jsonpCallback,f=void 0;return new Promise(function(t,e){var r=a.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),n=c+"_"+r;window[r]=function(e){t({ok:!0,json:function(){return Promise.resolve(e)}}),f&&clearTimeout(f),p(n),l(r)},s+=-1===s.indexOf("?")?"?":"&";var o=document.createElement("script");o.setAttribute("src",""+s+c+"="+r),a.charset&&o.setAttribute("charset",a.charset),o.id=n,document.getElementsByTagName("head")[0].appendChild(o),f=setTimeout(function(){e(new Error("JSONP request to "+i+" timed out")),l(r),p(n),window[r]=function(){l(r)}},u),o.onerror=function(){e(new Error("JSONP request to "+i+" failed")),l(r),p(n),f&&clearTimeout(f)}})}}(M={exports:{}},M.exports),M.exports);function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $(e){var t=e;return(t||null!=t)&&("number"!=typeof t||isFinite(t))||(t=""),String(t)}function V(e){var t=e.indexOf("#");return e.substring(0,-1!==t?t:e.length)}function G(e){var r=[];if(!e)return r;if("string"==typeof e)for(var t=e.split("&"),n=0,o=t.length;n<o;n++){var i=t[n],a=i.indexOf("="),s="",u=void 0;-1!==a?(s=i.substring(0,a),u=i.substring(a+1,i.length)):s=i;try{s=decodeURIComponent(s)}catch(e){console.warn("decodeURIComponent key error, remain key",s,e)}if(void 0!==u)try{u=decodeURIComponent(u)}catch(e){console.warn("decodeURIComponent value error, remain value",u,e)}else u="";r.push({key:s,value:u})}else for(s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var c=s;try{c=decodeURIComponent(c)}catch(e){console.warn("decodeURIComponent key error, remain key",c,e)}u=e[s];if("[object Array]"===Object.prototype.toString.call(u))u.forEach(function(e){var t=$(e);try{t=decodeURIComponent(t)}catch(e){console.warn("decodeURIComponent value error, remain value",t,e)}r.push({key:c,value:t})});else{u=$(u);try{u=decodeURIComponent(u)}catch(e){console.warn("decodeURIComponent value error, remain value",u,e)}r.push({key:c,value:u})}}return r}var Q=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e||"",this._queryStringKvs=G(function(e){var t=V(e),r=t.indexOf("?");return-1!==r?t.substring(r+1):""}(this._url))}return function(e,t,r){t&&X(e.prototype,t),r&&X(e,r)}(t,[{key:"append",value:function(e){var t=G(e);return this._queryStringKvs=this._queryStringKvs.concat(t),this}},{key:"get",value:function(e){return this.getAll(e)[0]}},{key:"getAll",value:function(t){return this._queryStringKvs.filter(function(e){return e.key===t}).map(function(e){return e.value})}},{key:"set",value:function(t,e){var r={};r[t]=e;var n=G(r),o=this._queryStringKvs.filter(function(e){return e.key===t});if(0<o.length){var i=this._queryStringKvs.indexOf(o[0]);this.delete(t);for(var a=this._queryStringKvs.slice(0,i),s=this._queryStringKvs.slice(i+1),u=0,c=n.length;u<c;u++)a.push(n[u]);this._queryStringKvs=a.concat(s)}else this.append(r);return this}},{key:"has",value:function(t){return 0<this._queryStringKvs.filter(function(e){return e.key===t}).length}},{key:"delete",value:function(t){var r=this._queryStringKvs;return r.filter(function(e){return e.key===t}).forEach(function(e){var t=r.indexOf(e);r.splice(t,1)}),this}},{key:"keys",value:function(){return this._queryStringKvs.reduce(function(e,t){return-1===e.indexOf(t.key)&&e.push(t.key),e},[])}},{key:"sort",value:function(){return this._queryStringKvs.sort(function(e,t){return e.key>t.key?1:e.key<t.key?-1:0}),this}},{key:"toString",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e,r="",n=this._queryStringKvs;n=n.filter(function(e){return""!==e.key}),t||(n=n.filter(function(e){return""!==e.value}));var o=n.map(function(e){return encodeURIComponent(e.key)+"="+encodeURIComponent(e.value)}).join("&");r=function(e){var t=V(e),r=t.indexOf("?");return t.substring(0,-1!=r?r:t.length)}(this._url),o&&(r=r?r+"?"+o:o);var i=function(e){var t=e.indexOf("#");return-1!==t?e.substring(t+1):""}(this._url);return i&&(r=r+"#"+i),r}},{key:"replace",value:function(e){for(var t=G(e),r=0,n=t.length;r<n;r++)this.delete(t[r].key);return this.append(e),this}},{key:"getObject",value:function(){return this._queryStringKvs.reduce(function(e,t){var r=t.key,n=t.value,o=e[r];return void 0===o?e[r]=n:"[object Array]"===Object.prototype.toString.apply(o)?o.push(n):e[r]=[o,n],e},{})}}]),t}();return function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.agent=z.create(e),this.useInterceptors()}return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(t,[{key:"useInterceptors",value:function(){this._hook(),this._isResponseSuccess(),this._descResponseError(),this._handleError(),this._logResponseError()}},{key:"_isResponseSuccess",value:function(){var o=this;this.agent.interceptors.response.use(function(e){var t=e.data;if(o._isApiSuccess(e))return Promise.resolve([t.data,e]);var r="接口调用出错但未提供错误信息";t&&t.statusInfo&&t.statusInfo.message?r=t.statusInfo.message:t&&t.message&&(r=t.message);var n=new Error(r);return n.response=e,n.request=e.request,n.config=e.config,Promise.reject(n)})}},{key:"_descResponseError",value:function(){var n=this;this.agent.interceptors.response.use(void 0,function(e){if(e.config){var t=e.config.validateStatus||n.agent.defaults.validateStatus,r=e.response;r?t&&t(r.status)?(e._desc="接口调用出错",e._errorType="B",e._errorNumber=r.data&&r.data.status?r.data.status:0):(e._desc="网络请求错误",e._errorType="H",e._errorNumber=r.status):(e._desc="网络请求失败",e._errorType="A",e._errorNumber=e.message.charCodeAt(0))}else n._descClientError(e);return e._errorCode="".concat(e._errorType).concat(e._errorNumber),Promise.reject(e)})}},{key:"_descClientError",value:function(e){e._desc="客户端处理出错",e._errorType="C",e._errorNumber=e.message.charCodeAt(0),e._errorCode="".concat(e._errorType).concat(e._errorNumber)}},{key:"_logResponseError",value:function(){this.agent.interceptors.response.use(void 0,function(e){var t=e.config?e.config.method:void 0,r=e.config?e.config.url:void 0;return console.warn("".concat(e._desc,"(").concat(e._errorCode,")"),t,r,e.message,e.config,e.response,e),Promise.reject(e)})}},{key:"_hook",value:function(){var t=this;this.agent.interceptors.request.use(function(e){return t.beforeSend(e),e}),this.agent.interceptors.response.use(function(e){return t.afterSend(e),e},function(e){return t.afterSend(e),Promise.reject(e)})}},{key:"_handleError",value:function(){var r=this;this.agent.interceptors.response.use(void 0,function(t){try{r.handleError(t)}catch(e){throw e.response=t.response,e.request=t.request,e.config=t.config,r._descClientError(e),e}return Promise.reject(t)})}},{key:"beforeSend",value:function(e){}},{key:"afterSend",value:function(e){}},{key:"handleError",value:function(e){}},{key:"send",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this._adapterDataOption(t);return t._jsonp?this._jsonp({method:"get",baseURL:t.baseURL,url:t.url,params:t.params,timeout:t.timeout,transformResponse:t.transformResponse,_jsonpCallback:t._jsonpCallback}):this._dispatchRequest(t)}},{key:"_adapterDataOption",value:function(e){if(e._data){var t="";e.method&&(t=e.method.toLowerCase());-1!==["put","post","patch"].indexOf(t)?e.data||(e.data="object"===r(e._data)?(new Q).append(e._data).toString():e._data):e.params=e.params||e._data}}},{key:"_jsonp",value:function(r){var e=r.baseURL||this.agent.defaults.baseURL;e&&!function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}(r.url)&&(r.url=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,r.url));var t=r.url;r.params&&(t=new Q(t).append(r.params).toString()),r.timeout||(r.timeout=this.agent.defaults.timeout);var n=r.transformResponse||this.agent.defaults.transformResponse,o=J(t,{timeout:r.timeout,jsonpCallback:r._jsonpCallback}).then(function(e){return e.json()}).then(function(e){var t=e;return n&&"[object Array]"===Object.prototype.toString.call(n)&&n.forEach(function(e){t=e(t)}),Promise.resolve({data:t,status:200,statusText:"OK",headers:{},config:r,request:"script"})}).catch(function(e){return e.request="script",e.response=null,e.config=r,Promise.reject(e)}),i=[o,void 0];for(this.agent.interceptors.request.forEach(function(e){i.unshift(e.fulfilled,e.rejected)}),this.agent.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)});i.length;)o=o.then(i.shift(),i.shift());return o}},{key:"_dispatchRequest",value:function(e){return this.agent(e)}},{key:"_isApiSuccess",value:function(e){var t=e.data;return"object"===r(t)&&(void 0===t.status||0===t.status)}}]),t}()});
